## Ubuntu19.10から20.04へのアップグレードと，20.04の新規インストール作業

:CATEGORIES: Linux,Ubuntu

　アップグレードは夕方に始めたように思います。まずはじめにデータのバックアップ以外にほとんど起動することのないディスクトップの古いパソコンにインストールする作業を午後に始めました。しかし，DVDからインストールすることが出来ず，アップグレードを試みました。

　インストールのISOファイルをDVDに書き込むことが出来ず，２枚のDVD-Rをだめにして，夕方に買い物のついでに宇出津新港のアルプの百均で２枚組のDVD-Rと１枚のDVD-RWを買ってきたのですが，これは外付けのプレーヤーに入れても認識をしませんでした。

　買い物から戻ったのが18時を過ぎていて，買い物に出かける前にUSBにインストールディスクを作成していたのですが，古いディスクトップパソコンの方はUSBから起動することが出来ませんでした。数年前，本体のみをタダでもらったパソコンになります。

　もともとデータのバックアップ用にサーバー専用機のような用途をしていたので，ディスクトップのアプリや込み入ったライブラリー余り入れていないので，アップグレードが出来るのではないかと思い調べてみました。

　Ubuntuのシステムのアップグレードは10年以上前，羽咋市に住んでいた頃に2,3度やったことがあったのですが，ライブラリーのバージョンの違いなどで正常に動くことがなく，エラーの対処も多かったので，新規インストール以外はしなくなっていました。

　百均に売っているDVD-Rが古いDVDプレーヤーでは使えない時代となってしまいました。新しい外付けのDVDプレーヤーを買うという方法もありますが，OSのインストールではシステムの最初の起動時にハードディスクやSSD以外からBOOTが出来なければなりません。

　普通に考えて，USBからブートできるのであれば，USB接続のDVDプレーヤーからブートできる可能性はありそうですが，USBからブートできないことを確認したパソコンになるので，できる見込みはありません。

　アップグレードが成功した時間のことは憶えていないですが，昨日の午後から夕方遅くに掛け,4,5時間はその作業に時間を使ったように思います。アップグレードではMySQLのインストールや設定がうまくいかず，それにもかなり時間を掛けていました。

　あとでUbuntu20.04の新規インストールをした時は，余り問題が起きなかったのですが，アップグレードの場合は，ネットで調べながらけっこう面倒な作業を行いました。MySQLのバージョンが上がったためで，他にもコマンドの書式に変更点があったようです。

» Ubuntu　20.04　MySQL - Google 検索 https://t.co/gVGMo1OIIF

» Ubuntu 20.04にMySQL 8.0をインストール（OS標準） - Qiita https://t.co/SdV1RDvlks

» Linuxディストリビューション「Ubuntu 20.04 LTS」リリース、2年ぶりの長期サポート版 - クラウド Watch https://t.co/gQEmt3K3mw

　あらためて調べても，MySQLのバージョンアップは情報が乏しく関心も少ないようですが，バージョンが８になって処理速度が２倍になったという話がありました。確かに処理速度は早くなったような実感があります。

　pythonのデフォルトが２系から３系になるという話は前に見かけていたのですが，MySQLのバージョンアップは情報を見かけることがなく，今調べてもごくわずかな情報です。データベースの移行もうまくはいったのですが，すんなりとはいかず，色々やっていました。

　今回，Ubuntu20.04の新規インストールをしたのはメインで使っているディスクトップパソコンですが，19.04で使っていたパーティションを初期化するかたちでインストールしました。昨日までメインで使っていた18.04は，そのまま残っています。

　18.04をインストールしていたのは2.5インチの100GBほどのSSDで，値段も3千円より安かったかもしれません。Amazonで購入しました。移行した20.04のUbuntuに問題がなければ，ノートパソコンに取り付け，そちらにも20.04の新規インストールを考えています。

　ここ数年，Ubuntuのバージョンアップにトラブルは少なくなっているのですが，今回も思わぬところで不具合が出たり対処を迫られてました。のんびりやっていたのですが，午前4時半ぐらいまで，その後の設定作業などをやっていました。

　今朝になって気がついたのですが，Emacsでも多少の不具合があって，その１つがフォントの大きさになります。フォントの設定はネットで探してもいくつかの方法があるのですが，設定が通用する場合としない場合があって，今回もやや不満を残したままの状態となっています。

　単純に日本語のフォントサイズが大きくなったのですが，設定で改善はみられるものの，なぜか空行の幅が大きいのです。なぜか，フォントを変更するメニューも出てきません。Emacsのインストールが不完全なのかもしれません。

　Ubuntuのバージョンアップは一年に2回あって，4月と10月になります。今回は2020年4月を意味する20.04というバージョンです。今回はLTSということでサポート期間の長いバージョンです。

　19.10もインストールした環境があったのですが，19.04ではサポート切れでアップデートが出来ない状態となっていました。長年，Ubuntuを使ってきましたが，これは19.04が初めてのことでした。

　以前は，半年に1回，Ubuntuの新規インストールを決まって行っていたのですが，昨年あたりから18.04のLTSをそのまま使い続けるようにもなっていました。なにかとトラブルも起こり，時間と手間の掛かる作業になりますが，繰り返し学ぶ，勉強の機会ともなります。

　UbuntuなどのLinuxの場合，Windowsパソコンのようにインストールディスクに使うということはなく，インターネット接続の環境さえあれば，いつでもインストールや更新が出来る仕組みとなっています。

## ディスクトップパソコンのSSDを取り外し，ノートパソコンに取り付けてUbuntu20.04LTSを新規インストール（2020年5月3日）

　ディスクトップパソコンには２つのSSDと１つのハードディスクを内蔵で取り付けていたのですが，SSDを１つ取り外したところ，BIOSが起動しなくなりました。

　少し知識はあったCMOSクリアというのを実行して起動できるようになったのですが，昨年の10月ころにSSDが故障し，その悪夢の再来かと最初は衝撃でした。静電気で壊れた可能性を考えたのですが，2009年1月に自作パソコンのマザーボードをショートでダメにしたこともありました。

　その時は，羽咋市のアパートから車で金沢市内の同じパソコン店に別のマザーボードを買いに走ったのですが，それが自分の車で自分で運転をして金沢市に行った最後の機会にもなっていると思います。1月の中頃か20日前後だったと思います。羽咋市には3月15日までいました。

　CMOSの電池というのもパソコンの知識として持っていたのですが，実際に交換したのは初めてのことで，宇出津新港のアルプの百均で買ってきたのですが百均で2個入りでした。百均で買える電池というのも全く知らずにいました。

　他にも買い物をして，家に戻ったところで一度，パソコンのBIOSが起動したのですが，ホームセンターでエアークリーナーを買ってきていたので，ホコリの掃除をしてから続きをやろうと電源を落としてしまいました。それから長い時間，またBIOSが起動しなくなりました。

　ノートパソコンにはインストール用のUSBでUbuntu20.04を起動していて，YouTubeでCMOSクリアの動画などを視聴していました。自動再生がオンになっていて，そのままにしていたので，他に作業などしながらラジオを聴くような感じで，意外なパソコンの話を聴いていました。

　ときどき動画の方もみていたのですが，CMOSクリアはパソコンを完全に放電させるのが大事なことで，6時間以上おいてようやく成功したという話もありました。

　20時ぐらいにはようやくBIOSが起動しましたが，買い物から戻ってすぐに見たのと同じヤバそうな画面でした。しかし，調べてみると単にBIOSの初期化設定を促す画面で，回復につながる希望の橋だったわけです。

```
パソコンの電源を入れると「American Megatrends ……」（アメリカンメガトレンド）とエラーメッセージが表示されてパソコンが起動できないトラブルに遭遇したことがありますか。

［source：］起動時に「American Megatrends ……」と表示された場合の対処法 https://www.partitionwizard.jp/partitionmagic/solution-to-american-megatrends-error.html
```

　10年以上前に似たような画面をパソコンの起動時に見たような気もするのですが，ハードウェア構成の変更でBIOSが起動しなくなったり，初期化を促されたというのは初めての経験だったと思います。自作のパソコンばかりやっていた時期もあるので，今まで経験することがなかった方が不思議でした。

　そのあとも経験したことのないトラブルが続き，Ubuntuが正常に起動しない状態でした。最終的には/etc/fastbという設定ファイルで，マウントするパーティションのUUIDを書き換えることで解決したのですが，ドライブが３つあったときの設定が残っていました。

　Linuxのブート（起動）のトラブルは，これまでに何度か経験していて，GRUBというブートマネージャーをコマンド操作し，直接，カーネルを起動することは何度かやっていました。この場合，キーボードの配列が英語のものとなるので，特殊文字の配置が全く変わってきます。

 - 2020-05-03_180853＿.jpg \n 2020-05-03_181537＿.jpg \n 2020-05-03_194255＿.jpg \n 2020-05-03_195156＿.jpg https://t.co/MCV9iiWtzx

 - 2020-05-03_202356＿.jpg \n 2020-05-03_203418＿.jpg \n 2020-05-03_211131＿.jpg \n 2020-05-03_213853＿.jpg https://t.co/BcMNbuXBjl

　スマホで撮影していた写真をみると，5月3日の18時08分は買い物から戻ったところで，再びBIOSが起動したのが19時42分でした。19時52分にはWindows10を起動しています。

　Ubuntuの起動時のメッセージは，矢印キーを押してみると表示され，1分30秒のカウントダウンとなっていました。カーネルのあるパーティションのUUIDに接続を試みているようでした。メッセージで検索すると，それらしい情報があり，解決のヒントとなりました。

▶▶▶　kk_hironoのリツイート　▶▶▶  

- RT kk_hirono（告発＼市場急配センター殺人未遂事件＼金沢地方検察庁・石川県警察御中）｜hirono_hideki（奉納＼さらば弁護士鉄道・泥棒神社の物語） 日時：2020-05-05 16:22／2020/05/03 21:33 URL： https://twitter.com/kk_hirono/status/1257571464632360961 https://twitter.com/hirono_hideki/status/1256924853581410304  

> ようやく正常起動した様子のUbuntu20.04。  

▶▶▶　kk_hironoのリツイート　▶▶▶  

- RT kk_hirono（告発＼市場急配センター殺人未遂事件＼金沢地方検察庁・石川県警察御中）｜hirono_hideki（奉納＼さらば弁護士鉄道・泥棒神社の物語） 日時：2020-05-05 16:22／2020/05/03 20:42 URL： https://twitter.com/kk_hirono/status/1257571314954416130 https://twitter.com/hirono_hideki/status/1256911990041096192  

> Ubuntuでa start job is running for dev-desk-by ...とかでて起動が遅い - くれなゐの雑記 https://t.co/4ZEnjx8vVT  

▶▶▶　kk_hironoのリツイート　▶▶▶  

- RT kk_hirono（告発＼市場急配センター殺人未遂事件＼金沢地方検察庁・石川県警察御中）｜hirono_hideki（奉納＼さらば弁護士鉄道・泥棒神社の物語） 日時：2020-05-05 16:22／2020/05/03 20:36 URL： https://twitter.com/kk_hirono/status/1257571294045827073 https://twitter.com/hirono_hideki/status/1256910589579767808  

> a start job is running for - Google 検索 https://t.co/EZBnr53YHE  

　2020-05-03_213853にノートパソコンでUbuntu20.04のインストールを始めていますが，このときは失敗をしました。EFIシステムパーティションの作成を忘れていたからです。

　ノートパソコンに取り付けていたハードディスクですが，SSDを外付けするために購入していたUSB接続のケースに入れてつないでみたところ，他のパソコンでも普通にファイルの読み書きが出来ました。SSDという固定観念があったのですが，どちらも同じだったみたいです。

　前日か前々日にディスクトップパソコンでも同じUbuntu20.04をインストールしていたので，SSHで遠隔ログインしながら，コマンド履歴をコピペするなどして，アプリのインストールや設定を行いました。設定はそのままコピーが多いです。

　Ubuntuの場合はaptになりますが，ほとんどがコマンドラインからのインストール作業になるので，インストールする側のパソコンはディスプレイも不要になります。DVDを入れ替えながらアプリをインストールするということはほとんどないと思います。

　アプリの設定ファイルがテキストファイルになっていることが多いのもLinuxの特徴です。使い回しのできることが多いですが，環境の変化などでメンテナンスの対処を迫られることも少なくありません。バージョンが上がると設定の書式が変わることもあります。

　昨日の5月4日の朝になりますが，前のUbuntu18.04の環境では普通に使えていたpandocのPDFファイル変換で，--latex-engine=lualatexというオプションが使えなくなっていました。削除されたような意味の英語のメッセージが出ていました。

　これで本文のみのPDFファイルの作成しかできなくなり，他に方法を探したのですが見つからず，仕方がないので自分でMarkdownからPDFファイルを一挙に作成するスプリクトの作成を始めました。これも思いの外，手間取ったのですが，一応出来上がっています。

## GNOMEディスクトップ環境のインストールと設定（実行日2020年５月６日：記述日５月７日）

:CATEGORIES: Linux,Ubuntu

　本日は５月７日なので昨日の５月６日になりますが，ディスクトップパソコンのUbuntu20.04で，GNOMEをインストールしました。以前は，「GNOME Shell」と呼ばれていたものになるかと思います。

　現在はUbuntuの標準ディスクトップ環境なのかもしれないのですが，私はここ数年，KDEディスクトップ環境に特化したkubuntuをインストールすることがほとんどで，環境に違いがありました。

　GNOMEのアプリはGTKというライブラリーで作られることが多いのではと見ています。余り詳しく正確な情報は見ていないのですが，同じくKDEのアプリではqtというライブラリーがずっと使われているようです。共通の部品のようなものなので，共通性があります。

```
GNOME Shell（グノーム シェル）はGNOME3.0の新しいグラフィカルシェルで、2011年4月6日にリリースされ、それまで使われていたGNOME パネルを代替した［2］。

［source：］GNOME Shell - Wikipedia https://ja.wikipedia.org/wiki/GNOME_Shell
```

```
GNOMEはDebian,Fedoraで標準デスクトップとして採用されるなど、非常にメジャーなデスクトップ環境です。初心者の方でGNOMEを使ってみたい場合はFedoraやUbuntu GNOMEがオススメです。

［source：］【2019年版】Linuxで使えるデスクトップ環境９選 http://note.kurodigi.com/linux-desktop2019/
```

```
KDEはGUIルールキットにQtを採用していて、アプリケーションの外見はQtで統一されています。よってKDEのユーザーは普段使うアプリもQtベースの「KDEアプリケーション」を好んで使う傾向があるようです。見た目の統一感と個々の独立したアプリケーションがそれぞれ力を発揮しKDEの世界観を創りあげているのでカスタマイズが容易という点も魅力の１つです。

［source：］【2019年版】Linuxで使えるデスクトップ環境９選 http://note.kurodigi.com/linux-desktop2019/
```

```
デスクトップ環境［編集］
現在の標準デスクトップ環境はGNOMEである。以前はGNOME パネルが利用されていたが、GNOME 3のリリースと同時期の2011年4月に独自のUnity (ユーザインタフェース)に変更された［9］。その後、Ubuntu 18.04（2018年4月26日リリース）からGNOMEに戻ることが発表され［10］、Ubuntu 17.10から再びGNOMEが採用されている［11］。

他のデスクトップ環境を採用した派生ディストリビューションとして、Kubuntu、Xubuntu、Lubuntuなどがある（Unity時代はUbuntu GNOMEも存在した）。

Ubuntu Serverでデスクトップ環境を利用したい場合、APTのメタパッケージ機能［12］を利用して"ubuntu-desktop"［13］をインストールすることで実現できる。

［source：］Ubuntu - Wikipedia https://ja.wikipedia.org/wiki/Ubuntu
```

　確認のため調べたところやはりUbuntuの標準ディスクトップはGNOMEでしたが，上記のページにある画面の画像も以前のUnityのように見えていました。しかし，よく見ると画面左手にアプリのメニューのアイコンが並んでいるのが似ているだけでした。

　いろいろとトラブルに見舞われ，再起動すると環境自体が消えたこともありました。マウスホイールでワークスペースの移動がしたいと，「compizconfig-settings-manager unity」をインストールしたのが悪かったのかもしれません。

　GTKのライブラリーが揃っていないため，拡張機能のインストールでいくつかエラーが出ていました。以前にも経験してきたのですが，KDEの環境で，GTKのアプリを使うと不完全なことがありました。まとめてGNOMEの環境をインストールする方法も以前はやっていました。

　あと，トラブルで時間がかかったのは，日本語の入力でした。インプットメソッドにfcitxを使おうとしたのが間違いだったような情報も後で見つけました。ibusに戻したことでひとまず問題は解決できたのですが，けっこうな不便を感じています。

　どうも全てのアプリで，日本語入力のオン・オフの状態が引き継がれるようなのです。エディタやワープロソフトでは日本入力をオンにしていることがほとんどですが，端末にフォーカスを移してもその状態が続きます。

　端末で，ibusの後に補完をしたところ，「ibus-setup」というのが出てきたので実行したところ，設定のウィンドウが立ち上がり，詳細というタブに，「すべてのアプリケーション間で同じ入力メソッドを共有する」という項目ありました。

　この項目のチェックを外し，再起動をしたのですが変わりはありませんでした。アプリの切り替えは頻繁な操作で，端末でいきなり日本語入力をすることはまずないので，いちいちキーボードでの切り替えが必要になります。

　GNOMEのディスクトップ環境は，長続きがしなかったもののこれまでに何度かインストールし設定で環境も整えてきたのですが，このような日本語入力の問題は初めて経験したように思います。

## SublimeTextのインストールと，Twitterに投稿するプラグインの作成（pythonスクリプト）

:CATEGORIES: Linux,Ubuntu,SublimeText

　時刻は2020年5月8日22時09分になります。昨日5月7日の午前中にディスクトップパソコンのUbuntu20.04にSublimeText3をインストールしました。以前にもインストールして使ったことはあったのですが，余り使えるという印象はありませんでした。

　なにかアプリを探していて，Ubuntuのソフトウェアセンターのようなものを起動していたとき，そこにSublimeTextがあったのも１つのきっかけになりますが，Markdownで見出し（トピック）をコピーしたり，移動させるというのも時間を掛けて探し続けていた目的でした。

　各種プラグインがあるというのもAtomやSublimeTextの特徴で，Markdownを使いやすくしたプラグインを探すというのも目的の一つでした。

　結論から，Markdownでドラグドラッグアンドドロップでトピックを移動させるものは見つかっていないのですが，コピーや切り取りで操作できるものは見つかりました。

　Markdownを扱うエディタは多いのですが，どれを試してもドラッグアンドドロップで見出しを移動できるものは見つからず，見出しの内容をテキストとしてコピーできるものもEmacsやVimのパッケージとずいぶんと数が限られています。

　Ubuntuの標準でも2,3日前にLibreOfficeのバージョンがアップされ，見出しのドラッグアンドドロップでの移動が出来るようになったのですが，Wordと同じバイナリーデータのワープロソフトと根本的な違いがあるのか，テキストファイルを扱うエディタでは出来るものが見つかりません。

　本当にずいぶん時間を掛けて探し，人気のMarkdownエディタを色々と試したのですが，当然ほしいと思う見出しの内容のコピーや見出しそのものの移動が出来ないのは，ある意味不思議な発見です。

SublimeTextで見出し（トピック）の移動が出来るとわかったプラグインは「outline」になるのですが，トピックの一覧のウィンドウ枠でコピーや切り取りでの移動が出来るだけで，トピックの内容のテキストのコピーは出来ないようです。

　そればかりか，トピックのコピーで，他の場所に貼り付けたりすると，トピックの一覧が消えてしまったり，不安定な挙動となるので，なんどかパッケージの削除とインストールを繰り返しました。

　Atom，VSCode，SublimeTextは，マルチプラットホームでプラグインも豊富という共通性があって，それぞれ試してきたのですが，独自プラグインの作成もSublimeTextが遥かに簡単で，JavaScriptではなくpythonだと知りました。

　個人的にJavaScriptよりはpythonに慣れているということもありますが，SublimeText２がpython２，SublimeText３がそれぞれpython２とpython３に対応しているということも，今日初めて知って感慨深さがあります。

　pythonはRubyよりは難しさ複雑さを感じますが，JavaScriptよりははるかにましです。LibreOfficeもpythonでマクロの作成が出来るのですが，情報が乏しく，独自の決まり事が多すぎるという印象でした。

　SublimeTextでの発見は，普通にカレント行での文字数がウィンドウ下部に表示されることです。Atomではファイル全体の行数，文字数などが表示され，方法を探したりしたのですがうまく解決で出来ずにいました。

　ワープロソフトでは行という操作より，段落という操作が優先されたりするので，テキストの一行の取扱が信じられないほど困難になります。

　時刻は２２時５４分になります。ふとテレビに目をやると，大津園児死傷事故の新立被告の姿があり，なにやらこれで確定するというようなナレーションがありました。控訴取り下げのことはネットの情報で見ていたのですが，テレビでは全く見ていませんでした。

　LibreOfficeでもワープロソフト一太郎でも見た目の折返しが一行として扱われていました。WordのVisual Basic for Applicationsでは，なんとか処理する方法を見つけたのですが，不思議なほど厄介でややこしい処理でした。

- TW kk_hirono（告発＼市場急配センター殺人未遂事件＼金沢地方検察庁・石川県警察御中） 日時： 2020/05/08 18:06 URL： https://twitter.com/kk_hirono/status/1258684729445867526  

> SublimeTextのプラグインからテストツイート  

　上記の本日18時06分のツイートが，ようやくSublimeTextのプラグインでのTwitter投稿がうまくいった時のツイートになります。pythonのモジュールのパスが読み込めないなど，解決のためのハードルがありました。

　SublimeTextのプラグインとして作成したpythonのスクリプトファイルは，ずいぶんと単純明快なものとなっています。それでも直接，スクリプト内でTwitterの投稿処理をやっていることもあり，処理速度はこれまでにないほど早く，軽快でわかりやすくなりました。

　スクリプトに，「self.view.run_command("save")」という一文を追加しました。これでTwitterへの投稿と同時に，ファイルが保存されるはずです。SublimeTextは，編集中のファイルが自動保存されるという特徴もあるようですが，これは要注意とも考えています。

　昨日の5月7日の午後は，ZoomとLINEのビデオ通話を同時にやっていたところ，スマホに金沢から電話が掛かってきました。偶然とは思えないようなタイミングでしたが，前にもあったようなことです。

## simplescreenrecorderというアプリを使ったUbuntuでのスクリーンキャストの作成と，SublimeTextの自作プラグインを使ったTwitterへの投稿

:CATEGORIES: Ubuntu

- TW hirono_hideki（奉納＼さらば弁護士鉄道・泥棒神社の物語） 日時： 2020/05/09 12:32 URL： https://twitter.com/hirono_hideki/status/1258963003866624002  

> 2020年05月09日11時50分08秒の記録＿SublimeTextでTwitterに投稿 - YouTube https://t.co/TgVme45lT9  

　これまでスクリーンキャストに使っていたKazamというアプリが起動時にエラーを出すようになり，探すと見つかったのがsimplescreenrecorderというアプリになります。

 - 2018年11月27日1443：記録＿REGEXP：”hirono”／モトケン（@motoken tw）の検索（2010 08 23〜2018 11 25／2018年11月27日1 https://www.youtube.com/watch?v=9JxP3aTUa6o  

 - 2018年12月10日0950：記録＿はてなブログにインポートした、はてなダイアリーの記事の文字化けをデータベースとあわせて修正 https://www.youtube.com/watch?v=D8LnRgOK02E  

 - 2018年12月23日1149：記録＿モトケンこと矢部善朗弁護士（京都弁護士会）による返信ツイートの記録（確認） https://www.youtube.com/watch?v=JPnjLrbXwLk  

 - 2018年12月23日1220：記録＿モトケンこと矢部善朗弁護士（京都弁護士会）による被ブロック状態と、最新タイムライン状況 https://www.youtube.com/watch?v=Iy447acLIOs  

 - 2018年12月23日1420：記録＿「ブロック」をキーワードに含むモトケンこと矢部善朗弁護士（京都弁護士会）のツイートのまとめ記事制作 https://www.youtube.com/watch?v=6kFBT0hnB9w  

 - モトケン（@motoken_tw）さん　　　Twitterからの_1546739058486．webm https://www.youtube.com/watch?v=DesYZUrWl_M  

 - 2020年03月12日1453：記録＿蓮舫議員の森まさこ法務大臣批判資料の提示（東日本大震災発生時の福島地検いわき支部の対応） - YouTube https://www.youtube.com/watch?v=YkJl15lkRgU  

 - 2020年03月12日1453：記録＿蓮舫議員の森まさこ法務大臣批判資料の提示（東日本大震災発生時の福島地検いわき支部の対応） https://www.youtube.com/watch?v=YkJl15lkRgU  

 - 2020年03月13日1301：記録＿「弁解をとらない検事は無能な（または考え違いをしている）検事」：モトケンこと矢部善朗弁護士（京都弁護士会） https://www.youtube.com/watch?v=Kn-MQwcOAS8  

 - 2020年03月13日1310：記録＿深澤諭史弁護士のTwitterタイムライン：３月１３日から３月１１日 https://www.youtube.com/watch?v=bycmskmajKk  

 - 2020年03月14日0923：記録＿深澤諭史弁護士のTwitter１４日から３月１１日 https://www.youtube.com/watch?v=8M_INiqe64k  

 - 2020年03月14日0931：記録＿「大津　控訴」のTwitter検索 https://www.youtube.com/watch?v=HmVgG_-Ba9Q  

 - 2020年05月09日11時50分08秒の記録＿SublimeTextでTwitterに投稿 https://www.youtube.com/watch?v=EDa214b8YAY  

　3月の12日，13日，14日と投稿がありますが，それ以前は2018年12月23日となっていました。

　間に，「モトケン（@motoken_tw）さん　　　Twitterからの_1546739058486．webm」という書式の異なるものがありますが，確認すると2019年1月5日の投稿でした。ファイル形式も違っているようです。

　このsimplescreenrecorderでは，「simplescreenrecorder-2020-05-09_10.46.22.mp4」という書式で動画ファイルが作られます。

　Kazamで使っていたものに少し手を加えたのですが，次のようにファイル名を変更するスプリクトを使いました。正確には別名でのコピーを作成するもので，コピーが成功した後に元のファイルを削除するようにしています。

>|bash|
 #!/bin/bash

name=$1
echo "ファイル名を入力："
read rename
export bash_data=$rename
rename=`h-bash-export-data-sanitize.rb`
newname=`echo $name | sed "s/\([0-9]\{4\}\)-\([0-9]\{2\}\)-\([0-9]\{2\}\)[ _]\([0-9]\{2\}\).\([0-9]\{2\}\).\([0-9]\{2\}\)\.mp4/\1年\2月\3日\4時\5分\6秒の記録＿${rename}\.mp4/" \
 | sed "s/simplescreenrecorder-//"`

echo -e "${name}\nを\n${newname}"

echo "に変更しますか？ y or n."

read answer

case $answer in
    y)
        echo -e "tyeped yes.\n"
                oldname=`echo $name`
                dir=`pwd`
                cp "${dir}/${oldname}" "${dir}/${newname}"
                if [ -e "${dir}/${newname}" ]; then
                        echo "ファイル名の変更に成功しました。"
                else
                        echo "失敗です。"
                fi

        ;;
    n)
        echo -e "tyeped no. キャンセルしました。\n"
        ;;
    *)
        echo -e "cannot understand $answer.\n"
        ;;
esac
||<

　冒頭の半角の＃がMarkdownの見出しとして処理されそうなので，半角のスペースを入れました。shebangの部分になります。ここにスクリプトで処理するプログラムのパスを指定しています。この場合はbashになります。

　YouTubeの動画は，次のようなワンライナーのコマンドでデータベースに記録しています。HTMLを読み込んだスクレイピングでタイトルとURLを取得し，実行する自作のスクリプトでは未登録のものをデータベースに追加登録するようにしています。

h-youtube-get-title-list.rb 'https://www.youtube.com/channel/UCsOOWxvk4fJaIXsgXVuz1yA/videos?view=0&shelf_id=0&sort=dd'|sed '/^$/d' > i && h-database-youtube-insert.rb i

　以前は，TwitterAPIのような制限のないブラウザのTwitter検索でもスクレイピングでツイートのURLの取得が出来たのですが，今はソースコードにテキストがないので，出来なくなっっています。出来たとしても更新前の数の少ないツイートしか取得できないと思います。

　YouTubeのAPIもあったように思いますが，以前は情報も少なく使うことが出来ませんでした。同じGoogleのサービスであるBloggerの方はAPIを使えるようにしたので，API経由でタイトルやURLも取得できています。

　失敗した投稿を削除することもあり，一度データベースに登録するとデータの削除や連番の割当を変更する作業が出来てしまうので，次のように数を指定して記事を取得し，データベースに登録するようにしています。

 cd;time  ./api-blogger.py 33 > bl.txt; insert-blogger_hirono2014sk.rb bl.txt && htf ~/t  

　「% dp -p |wc -l」という，これも自作スクリプトの実行結果で，データベースに56257件のデータがあると確認できます。「wc -l」はテキストの行数をカウントするもので，これは正規のコマンドになります。検索や置換などあらゆるテキスト処理が可能です。

　次は，かなり雑な正規表現になりますが，モトケンこと矢部善朗弁護士（京都弁護士会）と私のTwitterアカウントに紐付いた記事を探した結果になります。

```
[1833]  % dp -p |grep motoken_tw |grep -E '.+hirono.+http:.+'
 - 2017年10月02日10時20分の登録： REGEXP：”（@hirono_hideki｜@kk_hirono｜@s_hirono）”／モトケンこと矢部善朗弁護士（京都弁護士会）（@motoken_tw）のツイートの記録／2017年10月02日09時05分・62件 http://hirono2014sk.blogspot.com/2017/10/regexphironohidekikkhironoshironomotoke.html
 - 2017年10月02日10時26分の登録： REGEXP：”@motoken_tw”／非常上告-最高検察庁御中_ツイッター（@s_hirono）のツイートの記録／2017年10月02日10時26分・24件 http://hirono2014sk.blogspot.com/2017/10/regexpmotokentw-shirono20171002102624.html
 - 2017年10月02日10時34分の登録： REGEXP：”@motoken_tw”／奉納＼さらば弁護士鉄道・泥棒神社の物語（@hirono_hideki）のツイートの記録（2012年まで／2017年10月02日10時31分・131件） http://hirono2014sk.blogspot.com/2017/10/regexpmotokentwhironohideki2010-05-21.html
 - 2017年10月02日10時35分の登録： REGEXP：”@motoken_tw”／奉納＼さらば弁護士鉄道・泥棒神社の物語（@hirono_hideki）のツイートの記録（2013年以降／2017年10月02日10時34分・116件） http://hirono2014sk.blogspot.com/2017/10/regexpmotokentwhironohideki201320171002.html
 - 2017年10月27日21時12分の登録： REGEXP：”@hirono_hideki”／モトケン（@motoken_tw）の検索（2010-10-25〜2015-12-20／2017年10月27日21時12分の記録54件） http://hirono2014sk.blogspot.com/2017/10/regexphironohidekimotokentw2010-10.html
 - 2017年10月27日21時13分の登録： REGEXP：”@s_hirono”／モトケン（@motoken_tw）の検索（2012-03-06〜2015-07-24／2017年10月27日21時13分の記録11件） http://hirono2014sk.blogspot.com/2017/10/regexpshironomotokentw2012-03-062015-07.html
 - 2017年12月16日07時14分の登録： ％@motoken_tw　モトケン％あなたの抱える事実には関心がないから。だから議論のテーマにしてないでしょ。RT @hirono_hideki: 他人の抱える事実無視して、畳みかけてますよね。明らかに。RT http://hirono2014sk.blogspot.com/2017/12/motokentwrt-hironohideki-rt.html
 - 2018年04月21日16時28分の登録： REGEXP：”@hirono_hideki”／モトケン（@motoken_tw）の検索（2010-10-25〜2015-12-20／2018年04月21日16時27分の記録54件） http://hirono2014sk.blogspot.com/2018/04/regexphironohidekimotokentw2010-10.html
 - 2018年04月21日16時28分の登録： REGEXP：”@s_hirono”／モトケン（@motoken_tw）の検索（2012-03-06〜2015-07-24／2018年04月21日16時28分の記録11件） http://hirono2014sk.blogspot.com/2018/04/regexpshironomotokentw2012-03-062015-07.html
 - 2018年07月13日10時07分の登録： REGEXP：”（@hirono_hideki｜@kk_hirono｜@s_hirono）”／モトケン（@motoken_tw）の検索（2010-10-25〜2015-12-20／2018年07月13日10時06分の記録62件） http://hirono2014sk.blogspot.com/2018/07/regexphironohidekikkhironoshironomotoke.html
 - 2018年11月27日14時43分の登録： REGEXP：”hirono”／モトケン（@motoken_tw）の検索（2010-08-23〜2018-11-25／2018年11月27日14時43分の記録69件） http://hirono2014sk.blogspot.com/2018/11/regexphironomotokentw2010-08-232018-11.html
 - 2018年12月23日11時44分の登録： REGEXP：”hirono”／モトケン（@motoken_tw）の検索（2010-08-23〜2018-11-25／2018年12月23日11時44分の記録69件） http://hirono2014sk.blogspot.com/2018/12/regexphironomotokentw2010-08-232018-11.html
 - 2019年05月10日12時07分の登録： REGEXP：”hirono”／モトケン（@motoken_tw）の検索（2010-08-23〜2018-11-25／2019年05月10日12時07分の記録69件） http://hirono2014sk.blogspot.com/2019/05/regexphironomotokentw2010-08-232018-11.html
 - 2019年05月17日22時53分の登録： モトケン（@motoken_tw）／「hirono_hideki」の検索結果　-　Twilog：2019年05月17日22時53分 http://hirono2014sk.blogspot.com/2019/05/motokentwhironohideki-twilog201905172253.html
 - 2019年05月18日12時08分の登録： twitterAPI_search　”from：motoken_tw　to：s_hirono”　2019年05月18日12時07分：3件の取得 http://hirono2014sk.blogspot.com/2019/05/twitterapisearchfrommotokentwtoshirono2.html
 - 2019年05月18日12時11分の登録： twitterAPI_search　”from：motoken_tw　@hirono_hideki”　2019年05月18日12時11分：17件の取得 http://hirono2014sk.blogspot.com/2019/05/twitterapisearchfrommotokentwhironohide.html
 - 2019年05月18日12時14分の登録： twitterAPI_search　”from：motoken_tw　@s_hirono”　2019年05月18日12時14分：10件の取得 http://hirono2014sk.blogspot.com/2019/05/twitterapisearchfrommotokentwshirono201.html
 - 2019年05月18日18時08分の登録： from：motoken_tw　@hirono_hideki　-　Twitter検索　2019年05月18日18時07分：38件の取得 http://hirono2014sk.blogspot.com/2019/05/frommotokentwhironohideki.html
 - 2019年07月11日09時05分の登録： REGEXP：”（@hirono_hideki｜@kk_hirono｜@s_hirono）”／モトケン（@motoken_tw）の検索（2010-10-25〜2015-12-20／2019年07月11日09時05分の記録62件） http://hirono2014sk.blogspot.com/2019/07/regexphironohidekikkhironoshironomotoke.html
 - 2019年08月22日11時19分の登録： REGEXP：”（@hirono_hideki｜@kk_hirono｜@s_hirono）”／モトケン（@motoken_tw）の検索（2010-10-25〜2015-12-20／2019年08月22日11時19分の記録62件） http://hirono2014sk.blogspot.com/2019/08/regexphironohidekikkhironoshironomotoke.html
 - 2019年12月05日23時17分の登録： REGEXP：”（@hirono_hideki｜@kk_hirono｜@s_hirono）”／モトケン（@motoken_tw）の検索（2010-10-25〜2015-12-20／2019年12月05日23時17分の記録62件） http://hirono2014sk.blogspot.com/2019/12/regexphironohidekikkhironoshironomotoke.html
```

## VSCodeのインストールと設定（2020年5月16日）

:CATEGORIES: Ubuntu

　時刻は2020年5月16日23時11分になります。朝からVSCodeのインストールと設定に取り組んでいたのですが，思いの外，手間取り，時間を費やしてしまいました。結果として目的通りのことが実現できたのですが，それ以上に副作用として役立つ勉強が出来たとも思います。

▶▶▶　kk_hironoのリツイート　▶▶▶  

- RT kk_hirono（再捜査要請書＿警察庁・石川県警察御中）｜hirono_hideki（奉納＼さらば弁護士鉄道・泥棒神社の物語） 日時：2020-05-16 23:17／2020/05/16 08:36 URL： https://twitter.com/kk_hirono/status/1261662059726385152 https://twitter.com/hirono_hideki/status/1261440359684378624  

> 大河も朝ドラも、新型コロナの感染拡大を受けて4月1日から収録を休止していた。  今秋スタートする後期の連続テレビ小説「おちょやん」の収録も見合わせている。 https://t.co/YrC8cT5yAD  

▶▶▶　kk_hironoのリツイート　▶▶▶  

- RT kk_hirono（再捜査要請書＿警察庁・石川県警察御中）｜hirono_hideki（奉納＼さらば弁護士鉄道・泥棒神社の物語） 日時：2020-05-16 23:17／2020/05/16 08:37 URL： https://twitter.com/kk_hirono/status/1261662086255370240 https://twitter.com/hirono_hideki/status/1261440474235076616  

> 2020年度後期 連続テレビ小説「おちょやん」新たな出演者発表！ | 連続テレビ小説 | NHKドラマ https://t.co/qgSb5NsxQZ  

▶▶▶　kk_hironoのリツイート　▶▶▶  

- RT kk_hirono（再捜査要請書＿警察庁・石川県警察御中）｜hirono_hideki（奉納＼さらば弁護士鉄道・泥棒神社の物語） 日時：2020-05-16 23:17／2020/05/16 08:44 URL： https://twitter.com/kk_hirono/status/1261662122859061249 https://twitter.com/hirono_hideki/status/1261442264657608704  

> 杉咲花主演の朝ドラ「おちょやん」モデル浪花千栄子とは？ - シネマトゥデイ https://t.co/Xb3O8CEkVb  

▶▶▶　kk_hironoのリツイート　▶▶▶  

- RT kk_hirono（再捜査要請書＿警察庁・石川県警察御中）｜hirono_hideki（奉納＼さらば弁護士鉄道・泥棒神社の物語） 日時：2020-05-16 23:17／2020/05/16 10:14 URL： https://twitter.com/kk_hirono/status/1261662151720067072 https://twitter.com/hirono_hideki/status/1261465077057638400  

> UbuntuにVSCodeをインストールする3つの方法 - Qiita https://t.co/npA9V9och3  

▶▶▶　kk_hironoのリツイート　▶▶▶  

- RT kk_hirono（再捜査要請書＿警察庁・石川県警察御中）｜hirono_hideki（奉納＼さらば弁護士鉄道・泥棒神社の物語） 日時：2020-05-16 23:18／2020/05/16 21:25 URL： https://twitter.com/kk_hirono/status/1261662415583764486 https://twitter.com/hirono_hideki/status/1261633767539568640  

> レンジで簡単！大根の葉を茹でよう by 500k 【クックパッド】 簡単おいしいみんなのレシピが329万品 https://t.co/VHnEAj3kCq  

▶▶▶　kk_hironoのリツイート　▶▶▶  

- RT kk_hirono（再捜査要請書＿警察庁・石川県警察御中）｜hirono_hideki（奉納＼さらば弁護士鉄道・泥棒神社の物語） 日時：2020-05-16 23:20／2020/05/16 23:03 URL： https://twitter.com/kk_hirono/status/1261662753778876416 https://twitter.com/hirono_hideki/status/1261658518110625793  

> 2020年05月16日23時02分の登録： ＼えきなんローヤー?　@ekinan_lawyer＼検察庁法の改正案なんて、これまでなら、マイナーな議論だったんだろうけどさ。  コロナのご時世になって、引きこもらなきゃ https://t.co/VkO4zxmVoE  

▶▶▶　kk_hironoのリツイート　▶▶▶  

- RT kk_hirono（再捜査要請書＿警察庁・石川県警察御中）｜s_hirono（非常上告-最高検察庁御中_ツイッター） 日時：2020-05-16 23:21／2020/05/16 21:24 URL： https://twitter.com/kk_hirono/status/1261662958846791685 https://twitter.com/s_hirono/status/1261633517391187968  

> 2020-05-16-111937_金沢西警察署の対応，珠洲警察署能登庁舎での聴取。md　-　Visual　Studio　Code.jpg https://t.co/vtaTGL57KI  

▶▶▶　kk_hironoのリツイート　▶▶▶  

- RT kk_hirono（再捜査要請書＿警察庁・石川県警察御中）｜s_hirono（非常上告-最高検察庁御中_ツイッター） 日時：2020-05-16 23:21／2020/05/16 21:24 URL： https://twitter.com/kk_hirono/status/1261663001343479808 https://twitter.com/s_hirono/status/1261633590661537793  

> 2020-05-16-211956_package。json　-　k2020vs　-　Visual　Studio　Code.jpg https://t.co/I7qcGuyDIz  

